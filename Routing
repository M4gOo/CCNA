

A router has got two main functions
that's to determine the best path to available networks, and then to forward actual production traffic to those networks.

The best available path or paths to a destination network are listed in a router's routing table andwill be used for forwarding traffic.
A router may learn lots of different routes, but the best routes into the routing table will be used.

-----------Routing Table
It consists of directly connected networks and routes configured statically by the administrator or dynamically
learned through a routing protocol.
when you do configure the IP addresses on the router's interfaces, it will automatically add routes corresponding
to those into the routing table.
The command to view the routing table on a router is 
'show ip route'

To find out the IP address on the interface, we'd have to
do a 'show ip interface brief' or another similar command to find out that information. 
The show ip route command only shows the subnets available

as soon as you've configured IP addresses on your router interfaces, it can automatically route traffic between those directly connected networks.


Another type of route that is going to show up in your routing table after you've configured IP addresses
on your interfaces is local routes.
these are only going to show up from IOS version 15. Earlier versions did not show these. Local routes always have a /32 subnet mask
From IOS 15, it tells you the subnets that are available on each interface, and
it also tells you the actual IP address that is configured on the interface as well.


===================  static routing ================================

if a router wants to send traffic to a subnet that it's not directly connected to, then it's
going to need some way to know how to get there.
So you need to get that route into the routing table.
You can either do it manually as an administrator by adding a static route, or the router can learn it
dynamically through a routing protocol.

ip route 10.1.0.0 255.255.255.0 10.0.0.2
The command that I need to add is 'ip route 10.1.0.0 255.255.255.0',
so the subnet I need to get to including its subnet mask.
Then, I say the next hop IP address that I need to send traffic to in order to get there.
So for R1, to send traffic to the 10.1.0.0 network, it needs to send it out of its fastEthernet0/0
interface and send it to 10.0.0.2 on router R2, so I add the route for that.

another case
When I add the target for the route, it has to be reachable on a directly connected interface. So R3,
to get to R1, it sends a traffic via R2 which it is directly connected to. 


=====================  summarization and the default route ===========================

we don't need to enter routes for its directly connected networks.They were automatically put into the routing table when we configured our IP addresses.
we do need to configure routes for anywhere that the router is not directly attached to.

it is possible to summarize that into one route
For static routing, summary routes lessen the administrative overhead because if you've got
less routes to configure, that lessens the workload on you.
It also lessens the memory usage on the routers. The last routes that are in the routing table, the
last memory it's going to take up.

So rather than having separate routes for 10.1.0.0, 10.1.1.0, and 10.1.2.0, which
are all of a /24, I've configured one route for 10.1.0.0 with a subnet mask of 255.255.0.0.
I summarized at the classful boundary for a class B address, which is going to
cover our routes all the way from 10.1.0.0 to 10.1.255.0, which is a pretty big range.

Maybe we don't want to have all of those subnets available behind R2
So rather than saying ip route 10.1.0.0 and then to 255.255.0.0, 
lets use route 10.1.0.0, and then subnet mask of 255.255.252.0, and again pointing at
R2 at 10.0.0.2. 


------------- Longest Prefix Match

the router going to take? It takes the one with the longest prefix.
The second route is got a prefix of 255.255.255.0.
The first route is got 255.255.0.0. 
So the second route is a longest prefix.

---------
what if you've got multiple routes for the exact same destination? Meaning, it has the same destination
IP address and the same prefix as well?
In that case, the router will load balance the traffic over those routes.

-------- default gateway
the Internet side, it's 203.0.113.2 at
our service provider. So to add a route going out to everywhere else that we haven't specifically
had a route for elsewhere, it is '0.0.0.0 0.0.0.0' so
our full command is 'ip route 0.0.0.0 0.0.0.0' going to the next hop at our service
provider of 203.0.113.2.
default route is a catch-all for any traffic that does not match one of our more specific routes.



========================  dynamic routing protocols comnparing with static protocol ===============================


When a routing protocol is used, routers will automatically advertise their best paths to
known networks to each other. Routers will then use this information to determine their own best path to those known destinations.
And if the state of the network changes, like if a link goes up or down, or if a new network is added to the
topology, then the routers will automatically update each other with that information. Routers can
use that information to automatically calculate a new best path and update their routing table in accordance
with those network changes.

three routers R1, R2, and R3. 
To the right of R1 got the 10.0.1/24 and the 10.0.2/24 networks. 
R2 and R3 are not directly connected to those networks, so they're going to need a way to find out about them.
can use static routing, which would require me as an administrator to configure static routes everywhere
or we can have them learn it automatically through the use of dynamic routing protocols. 
configure a dynamic routing protocol on both R1, R2, and R3, and
they will then share information about their networks with each other.
R2 also has a relationship with R3, so it will advertise
information there as well (it will update the Routing Table). So R2 will tell R3," you can get to these networks via me"
Obviously, the same thing is going to also happen in the opposite direction, where R3 is going to
advertise its routes to R2, which will then advertise them on to R1.

Just like we could with static routes, we can use summary routes with our dynamic routing protocols as well.
rather the two individual /24s, it advertises 10.0.0.0/16. Reasons we would do this,
summary routes lead to less memory usage in routers as their routing tables contains less routes.

less CPU usage as changes in the network only affect other routers in the same area. Means only the nearby router will be
recalculate the path, others wont know about a route is down.

dynamic routing protocols are more scalable than administrator-defined static routes.
the routers automatically advertise available subnets to each otherwithout the administrator having to manually enter every route on every router.
dynamic routing protocols, if a subnet is added or removed the routers will automatically discover that and update their routing tables.
if the best path to subnet goes down, dynamic routing protocol routers will automatically discover that and will calculate a new best path if one is available.

It is pretty common that you'll use a combination of both a dynamic routing protocol and you'll also have some static routes there as well.
In that case, the bulk of the information is going to be carried with your dynamic routing protocol.
You're only going to use static routing for special use cases, for example, if you want to configure a 
backup route or for a static route to the internet.





